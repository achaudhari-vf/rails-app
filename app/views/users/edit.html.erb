<%= render 'pages/navbar' %>



<%= render 'error' %>

<% if logged_in? && (@user == current_user || current_user.admin?) %>
<h1 class="text-center mb-4">This is the Edit Page</h1>

  <div class="container">
    <%= form_with(model: @user, local: true, class: 'needs-validation', novalidate: true) do |f| %>
      <div class="mb-3">
        <%= f.label :name, class: 'form-label' %>
        <%= f.text_field :name, class: 'form-control', placeholder: 'Enter your name' %>
      </div>

      <div class="mb-3">
        <%= f.label :email, class: 'form-label' %>
        <%= f.text_field :email, class: 'form-control', placeholder: 'Enter your email' %>
      </div>

      <div class="mb-3">
        <%= f.label :password, class: 'form-label' %>
        <%= f.password_field :password, class: 'form-control', placeholder: 'Enter your password' %>
      </div>

      <div class="text-center">
        <%= f.submit 'Save Changes', class: 'btn btn-primary' %>
      </div>
    <% end %>
  </div>
<%else %>
  <% flash.each do |key, message| %>
    <div class="alert alert-<%= key == 'notice' ? 'success' : 'danger' %> alert-dismissible fade show" role="alert">
      <%= message %>
      <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
  <% end %>
  <%= flash[:notice] = "Unauthorized action or you don't have access to perform this action" %>
  <%= render 'pages/intro' %>
<% end %> 
